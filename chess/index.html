<!DOCTYPE html>
<html>
  <head>
    <!-- External stylesheet and JavaScript module for the chess game -->
    <link rel="stylesheet" href="./styles.css">
    <script type='module' src='./app.js'></script>
  </head>
  <body>
    <!-- Debug panel for development purposes -->
    <div id="debug-panel"></div>

    <!-- Custom title bar for the application window -->
    <div id="titlebar">
      <pear-ctrl></pear-ctrl>
    </div>

    <main>
      <!-- Initial setup screen for creating or joining a game room -->
      <div id="setup">
        <!-- Button to create a new game room -->
        <button id="create-chat-room">Create Game Room</button>
        <div id="or">or</div>
        <!-- Form for joining an existing game room -->
        <form id="join-form">
          <input id="join-chat-room-topic" placeholder="Enter room topic" required>
          <button type="submit">Join Game Room</button>
        </form>
      </div>

      <!-- Loading indicator shown during connection -->
      <div id="loading" class="hidden">
        Connecting...
      </div>

      <!-- Main game container (hidden initially) -->
      <div id="game-container" class="hidden">
        <!-- Left side: Chess game area -->
        <div id="game-area">
          <!-- Display for game status (current turn, check/checkmate, etc.) -->
          <div id="game-status"></div>
          <!-- Chess board where the actual game is played -->
          <div id="chess-board" class="chess-board"></div>
        </div>
        
        <!-- Right side: Chat and room information -->
        <div id="chat">
          <!-- Header section with room details -->
          <div id="header">
            <div id="details">
              <!-- Room topic display with copy functionality -->
              <div class="room-info">
                <input type="text" id="room-topic-display" readonly>
                <button class="copy-button" onclick="copyRoomTopic()">Copy</button>
              </div>
              <!-- Display count of connected players -->
              <div>Connected Peers: <span id="peers-count">0</span></div>
            </div>
          </div>
          <!-- Chat messages container -->
          <div id="messages"></div>
          <!-- Form for sending new chat messages -->
          <form id="message-form">
            <input id="message" placeholder="Type a message..." required>
            <button type="submit">Send</button>
          </form>
        </div>
      </div>
    </main>
  </body>
</html>